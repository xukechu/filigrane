// Translations for the Image Watermark Tool
// Supported languages: English, French, German, Italian, Spanish, Japanese, Russian, Arabic, Simplified Chinese, Traditional Chinese, Korean

const translations = {
    // English (default)
    'en': {
        'pageTitle': 'Image Watermark Tool - Add Text Watermarks to Your Images',
        'pageDescription': 'Free online tool to add text watermarks to your images. Customize position, size, color, opacity, and rotation of your watermark.',
        'pageKeywords': 'image watermark, watermark tool, photo watermark, text watermark, image editor, free watermark',
        'mainHeading': 'Image Watermark Tool',
        'selectImage': 'Select an image or drag & drop here',
        'uploadPrompt': 'Click to upload or drag an image here',
        'watermarkText': 'Watermark Text',
        'position': 'Position',
        'appearance': 'Appearance',
        'topLeft': 'Top Left',
        'topRight': 'Top Right',
        'center': 'Center',
        'bottomLeft': 'Bottom Left',
        'bottomRight': 'Bottom Right',
        'xOffset': 'X Offset:',
        'yOffset': 'Y Offset:',
        'fontSize': 'Font Size:',
        'opacity': 'Opacity:',
        'color': 'Color:',
        'rotation': 'Rotation:',
        'repeat': 'Repeat',
        'enableRepeat': 'Enable Repeat',
        'repeatSpacingX': 'Spacing X:',
        'repeatSpacingY': 'Spacing Y:',
        'downloadBtn': 'Download Image',
        'watermarkDefault': 'Watermark',
        'enterWatermarkText': 'Enter watermark text',
        'downloadFilename': 'watermarked-image.png',
        'pixelUnit': 'px',
        'percentUnit': '%',
        'degreeUnit': '°',
        'reuploadBtn': 'Re-upload',
        'gestureHint': 'Tip: You can drag, pinch to zoom, and rotate the watermark directly on the image.',
        'touchGestureHint': 'Drag to move, pinch to resize, rotate with two fingers. Double-tap to re-upload.',
        'mouseGestureHint': 'Drag to move watermark. Hover to see re-upload option.',
        'saveImageInstructions': 'Press and hold on the image, then select "Save Image" or "Download Image" from the menu.',
        'dir': 'ltr' // text direction: ltr (left to right) or rtl (right to left)
    },
    // French
    'fr': {
        'pageTitle': 'Outil de Filigrane d\'Image - Ajoutez des Filigranes à Vos Images',
        'pageDescription': 'Outil en ligne gratuit pour ajouter des filigranes textuels à vos images. Personnalisez la position, la taille, la couleur, l\'opacité et la rotation de votre filigrane.',
        'pageKeywords': 'filigrane d\'image, outil de filigrane, filigrane photo, filigrane texte, éditeur d\'image, filigrane gratuit',
        'mainHeading': 'Outil de Filigrane d\'Image',
        'selectImage': 'Sélectionnez une image pour ajouter un filigrane',
        'uploadPrompt': 'Téléchargez une image pour ajouter un filigrane',
        'watermarkText': 'Texte du Filigrane',
        'position': 'Position',
        'appearance': 'Apparence',
        'topLeft': 'En Haut à Gauche',
        'topRight': 'En Haut à Droite',
        'center': 'Centre',
        'bottomLeft': 'En Bas à Gauche',
        'bottomRight': 'En Bas à Droite',
        'xOffset': 'Décalage X:',
        'yOffset': 'Décalage Y:',
        'fontSize': 'Taille de Police:',
        'opacity': 'Opacité:',
        'color': 'Couleur:',
        'rotation': 'Rotation:',
        'repeat': 'Répétition',
        'enableRepeat': 'Activer la Répétition',
        'repeatSpacingX': 'Espacement X:',
        'repeatSpacingY': 'Espacement Y:',
        'downloadBtn': 'Télécharger l\'Image',
        'watermarkDefault': 'Filigrane',
        'enterWatermarkText': 'Entrez le texte du filigrane',
        'downloadFilename': 'image-filigranee.png',
        'pixelUnit': 'px',
        'percentUnit': '%',
        'degreeUnit': '°',
        'reuploadBtn': 'Re-télécharger',
        'gestureHint': 'Astuce: Vous pouvez faire glisser, pincer pour zoomer et faire pivoter le filigrane directement sur l\'image.',
        'touchGestureHint': 'Faites glisser pour déplacer, pincez pour redimensionner, tournez avec deux doigts. Double-tapez pour re-télécharger.',
        'mouseGestureHint': 'Faites glisser pour déplacer le filigrane. Survolez pour voir l\'option de re-téléchargement.',
        'saveImageInstructions': 'Appuyez et maintenez sur l\'image, puis sélectionnez "Enregistrer l\'image" ou "Télécharger l\'image" dans le menu.',
        'dir': 'ltr'
    },
    // German
    'de': {
        'pageTitle': 'Bild-Wasserzeichen-Tool - Fügen Sie Ihren Bildern Wasserzeichen hinzu',
        'pageDescription': 'Kostenloses Online-Tool zum Hinzufügen von Textwasserzeichen zu Ihren Bildern. Passen Sie Position, Größe, Farbe, Deckkraft und Drehung Ihres Wasserzeichens an.',
        'pageKeywords': 'Bildwasserzeichen, Wasserzeichen-Tool, Fotowasserzeichen, Textwasserzeichen, Bildbearbeitung, kostenloses Wasserzeichen',
        'mainHeading': 'Bild-Wasserzeichen-Tool',
        'selectImage': 'Wählen Sie ein Bild aus, um ein Wasserzeichen hinzuzufügen',
        'uploadPrompt': 'Laden Sie ein Bild hoch, um ein Wasserzeichen hinzuzufügen',
        'watermarkText': 'Wasserzeichen-Text',
        'position': 'Position',
        'appearance': 'Aussehen',
        'topLeft': 'Oben Links',
        'topRight': 'Oben Rechts',
        'center': 'Mitte',
        'bottomLeft': 'Unten Links',
        'bottomRight': 'Unten Rechts',
        'xOffset': 'X-Versatz:',
        'yOffset': 'Y-Versatz:',
        'fontSize': 'Schriftgröße:',
        'opacity': 'Deckkraft:',
        'color': 'Farbe:',
        'rotation': 'Drehung:',
        'repeat': 'Wiederholen',
        'enableRepeat': 'Wiederholung aktivieren',
        'repeatSpacingX': 'Abstand X:',
        'repeatSpacingY': 'Abstand Y:',
        'downloadBtn': 'Bild Herunterladen',
        'watermarkDefault': 'Wasserzeichen',
        'enterWatermarkText': 'Wasserzeichen-Text eingeben',
        'downloadFilename': 'wasserzeichen-bild.png',
        'pixelUnit': 'px',
        'percentUnit': '%',
        'degreeUnit': '°',
        'reuploadBtn': 'Neu hochladen',
        'gestureHint': 'Tipp: Sie können das Wasserzeichen direkt auf dem Bild ziehen, zum Zoomen zusammendrücken und drehen.',
        'touchGestureHint': 'Ziehen zum Verschieben, Zusammendrücken zum Vergrößern/Verkleinern, mit zwei Fingern drehen. Doppeltippen zum Neu-Hochladen.',
        'mouseGestureHint': 'Ziehen Sie, um das Wasserzeichen zu verschieben. Bewegen Sie den Mauszeiger darüber, um die Option zum Neu-Hochladen zu sehen.',
        'saveImageInstructions': 'Drücken und halten Sie auf dem Bild, dann wählen Sie "Bild speichern" oder "Bild herunterladen" aus dem Menü.',
        'dir': 'ltr'
    },
    // Italian
    'it': {
        'pageTitle': 'Strumento Filigrana Immagine - Aggiungi Filigrane alle Tue Immagini',
        'pageDescription': 'Strumento online gratuito per aggiungere filigrane di testo alle tue immagini. Personalizza posizione, dimensione, colore, opacità e rotazione della tua filigrana.',
        'pageKeywords': 'filigrana immagine, strumento filigrana, filigrana foto, filigrana testo, editor immagini, filigrana gratuita',
        'mainHeading': 'Strumento Filigrana Immagine',
        'selectImage': 'Seleziona un\'immagine per aggiungere una filigrana',
        'uploadPrompt': 'Carica un\'immagine per aggiungere una filigrana',
        'watermarkText': 'Testo Filigrana',
        'position': 'Posizione',
        'appearance': 'Aspetto',
        'topLeft': 'In Alto a Sinistra',
        'topRight': 'In Alto a Destra',
        'center': 'Centro',
        'bottomLeft': 'In Basso a Sinistra',
        'bottomRight': 'In Basso a Destra',
        'xOffset': 'Offset X:',
        'yOffset': 'Offset Y:',
        'fontSize': 'Dimensione Font:',
        'opacity': 'Opacità:',
        'color': 'Colore:',
        'rotation': 'Rotazione:',
        'repeat': 'Ripeti',
        'enableRepeat': 'Abilita Ripetizione',
        'repeatSpacingX': 'Spaziatura X:',
        'repeatSpacingY': 'Spaziatura Y:',
        'downloadBtn': 'Scarica Immagine',
        'watermarkDefault': 'Filigrana',
        'enterWatermarkText': 'Inserisci testo filigrana',
        'downloadFilename': 'immagine-filigranata.png',
        'pixelUnit': 'px',
        'percentUnit': '%',
        'degreeUnit': '°',
        'reuploadBtn': 'Ricarica',
        'gestureHint': 'Suggerimento: Puoi trascinare, pizzicare per ingrandire e ruotare la filigrana direttamente sull\'immagine.',
        'touchGestureHint': 'Trascina per spostare, pizzica per ridimensionare, ruota con due dita. Doppio tocco per ricaricare.',
        'mouseGestureHint': 'Trascina per spostare la filigrana. Passa sopra per vedere l\'opzione di ricarica.',
        'saveImageInstructions': 'Tieni premuto sull\'immagine, quindi seleziona "Salva immagine" o "Scarica immagine" dal menu.',
        'dir': 'ltr'
    },
    // Spanish
    'es': {
        'pageTitle': 'Herramienta de Marca de Agua de Imagen - Añade Marcas de Agua a Tus Imágenes',
        'pageDescription': 'Herramienta en línea gratuita para añadir marcas de agua de texto a tus imágenes. Personaliza la posición, tamaño, color, opacidad y rotación de tu marca de agua.',
        'pageKeywords': 'marca de agua de imagen, herramienta de marca de agua, marca de agua de foto, marca de agua de texto, editor de imágenes, marca de agua gratuita',
        'mainHeading': 'Herramienta de Marca de Agua de Imagen',
        'selectImage': 'Seleccione una imagen para añadir una marca de agua',
        'uploadPrompt': 'Suba una imagen para añadir una marca de agua',
        'watermarkText': 'Texto de Marca de Agua',
        'position': 'Posición',
        'appearance': 'Apariencia',
        'topLeft': 'Arriba Izquierda',
        'topRight': 'Arriba Derecha',
        'center': 'Centro',
        'bottomLeft': 'Abajo Izquierda',
        'bottomRight': 'Abajo Derecha',
        'xOffset': 'Desplazamiento X:',
        'yOffset': 'Desplazamiento Y:',
        'fontSize': 'Tamaño de Fuente:',
        'opacity': 'Opacidad:',
        'color': 'Color:',
        'rotation': 'Rotación:',
        'repeat': 'Repetir',
        'enableRepeat': 'Habilitar Repetición',
        'repeatSpacingX': 'Espaciado X:',
        'repeatSpacingY': 'Espaciado Y:',
        'downloadBtn': 'Descargar Imagen',
        'watermarkDefault': 'Marca de Agua',
        'enterWatermarkText': 'Introduzca texto de marca de agua',
        'downloadFilename': 'imagen-con-marca.png',
        'pixelUnit': 'px',
        'percentUnit': '%',
        'degreeUnit': '°',
        'reuploadBtn': 'Volver a subir',
        'gestureHint': 'Consejo: Puedes arrastrar, pellizcar para hacer zoom y rotar la marca de agua directamente en la imagen.',
        'touchGestureHint': 'Arrastra para mover, pellizca para cambiar tamaño, gira con dos dedos. Doble toque para volver a subir.',
        'mouseGestureHint': 'Arrastra para mover la marca de agua. Pasa el cursor por encima para ver la opción de volver a subir.',
        'saveImageInstructions': 'Mantén pulsada la imagen, luego selecciona "Guardar imagen" o "Descargar imagen" del menú.',
        'dir': 'ltr'
    },
    // Japanese
    'ja': {
        'pageTitle': '画像透かしツール - 画像にテキスト透かしを追加',
        'pageDescription': '画像にテキスト透かしを追加する無料オンラインツール。透かしの位置、サイズ、色、不透明度、回転をカスタマイズできます。',
        'pageKeywords': '画像透かし, 透かしツール, 写真透かし, テキスト透かし, 画像編集, 無料透かし',
        'mainHeading': '画像透かしツール',
        'selectImage': '透かしを追加する画像を選択',
        'uploadPrompt': '透かしを追加する画像をアップロード',
        'watermarkText': '透かしテキスト',
        'position': '位置',
        'appearance': '外観',
        'topLeft': '左上',
        'topRight': '右上',
        'center': '中央',
        'bottomLeft': '左下',
        'bottomRight': '右下',
        'xOffset': 'X オフセット:',
        'yOffset': 'Y オフセット:',
        'fontSize': 'フォントサイズ:',
        'opacity': '不透明度:',
        'color': '色:',
        'rotation': '回転:',
        'repeat': '繰り返し',
        'enableRepeat': '繰り返しを有効にする',
        'repeatSpacingX': '間隔 X:',
        'repeatSpacingY': '間隔 Y:',
        'downloadBtn': '画像をダウンロード',
        'watermarkDefault': '透かし',
        'enterWatermarkText': '透かしテキストを入力',
        'downloadFilename': '透かし入り画像.png',
        'pixelUnit': 'px',
        'percentUnit': '%',
        'degreeUnit': '°',
        'reuploadBtn': '再アップロード',
        'gestureHint': 'ヒント：画像上で直接透かしをドラッグ、ピンチズーム、回転できます。',
        'touchGestureHint': 'ドラッグで移動、ピンチでサイズ変更、二本指で回転。ダブルタップで再アップロード。',
        'mouseGestureHint': 'ドラッグで透かしを移動。ホバーすると再アップロードオプションが表示されます。',
        'saveImageInstructions': '画像を長押しして、メニューから「画像を保存」または「画像をダウンロード」を選択してください。',
        'dir': 'ltr'
    },
    // Russian
    'ru': {
        'pageTitle': 'Инструмент Водяных Знаков - Добавляйте Текстовые Водяные Знаки на Ваши Изображения',
        'pageDescription': 'Бесплатный онлайн-инструмент для добавления текстовых водяных знаков на ваши изображения. Настройте положение, размер, цвет, прозрачность и поворот вашего водяного знака.',
        'pageKeywords': 'водяной знак изображения, инструмент водяных знаков, водяной знак фото, текстовый водяной знак, редактор изображений, бесплатный водяной знак',
        'mainHeading': 'Инструмент Водяных Знаков',
        'selectImage': 'Выберите изображение для добавления водяного знака',
        'uploadPrompt': 'Загрузите изображение для добавления водяного знака',
        'watermarkText': 'Текст Водяного Знака',
        'position': 'Позиция',
        'appearance': 'Внешний Вид',
        'topLeft': 'Верхний Левый',
        'topRight': 'Верхний Правый',
        'center': 'Центр',
        'bottomLeft': 'Нижний Левый',
        'bottomRight': 'Нижний Правый',
        'xOffset': 'Смещение X:',
        'yOffset': 'Смещение Y:',
        'fontSize': 'Размер Шрифта:',
        'opacity': 'Прозрачность:',
        'color': 'Цвет:',
        'rotation': 'Вращение:',
        'repeat': 'Повторение',
        'enableRepeat': 'Включить Повторение',
        'repeatSpacingX': 'Интервал X:',
        'repeatSpacingY': 'Интервал Y:',
        'downloadBtn': 'Скачать Изображение',
        'watermarkDefault': 'Водяной Знак',
        'enterWatermarkText': 'Введите текст водяного знака',
        'downloadFilename': 'изображение-с-водяным-знаком.png',
        'pixelUnit': 'пкс',
        'percentUnit': '%',
        'degreeUnit': '°',
        'reuploadBtn': 'Перезагрузить',
        'gestureHint': 'Совет: Вы можете перетаскивать, масштабировать и вращать водяной знак прямо на изображении.',
        'touchGestureHint': 'Перетаскивайте для перемещения, сжимайте для изменения размера, вращайте двумя пальцами. Двойное касание для перезагрузки.',
        'mouseGestureHint': 'Перетаскивайте для перемещения водяного знака. Наведите курсор, чтобы увидеть опцию перезагрузки.',
        'saveImageInstructions': 'Нажмите и удерживайте изображение, затем выберите "Сохранить изображение" или "Скачать изображение" из меню.',
        'dir': 'ltr'
    },
    // Arabic
    'ar': {
        'pageTitle': 'أداة العلامة المائية للصور - أضف علامات مائية نصية إلى صورك',
        'pageDescription': 'أداة مجانية عبر الإنترنت لإضافة علامات مائية نصية إلى صورك. قم بتخصيص موضع وحجم ولون وشفافية ودوران العلامة المائية الخاصة بك.',
        'pageKeywords': 'علامة مائية للصور، أداة العلامة المائية، علامة مائية للصور، علامة مائية نصية، محرر الصور، علامة مائية مجانية',
        'mainHeading': 'أداة العلامة المائية للصور',
        'selectImage': 'حدد صورة لإضافة علامة مائية',
        'uploadPrompt': 'قم بتحميل صورة لإضافة علامة مائية',
        'watermarkText': 'نص العلامة المائية',
        'position': 'الموضع',
        'appearance': 'المظهر',
        'topLeft': 'أعلى اليسار',
        'topRight': 'أعلى اليمين',
        'center': 'الوسط',
        'bottomLeft': 'أسفل اليسار',
        'bottomRight': 'أسفل اليمين',
        'xOffset': 'إزاحة X:',
        'yOffset': 'إزاحة Y:',
        'fontSize': 'حجم الخط:',
        'opacity': 'الشفافية:',
        'color': 'اللون:',
        'rotation': 'الدوران:',
        'repeat': 'تكرار',
        'enableRepeat': 'تمكين التكرار',
        'repeatSpacingX': 'المسافة X:',
        'repeatSpacingY': 'المسافة Y:',
        'downloadBtn': 'تحميل الصورة',
        'watermarkDefault': 'علامة مائية',
        'enterWatermarkText': 'أدخل نص العلامة المائية',
        'downloadFilename': 'صورة-بعلامة-مائية.png',
        'pixelUnit': 'بكسل',
        'percentUnit': '%',
        'degreeUnit': '°',
        'reuploadBtn': 'إعادة التحميل',
        'gestureHint': 'نصيحة: يمكنك سحب العلامة المائية وتكبيرها وتدويرها مباشرة على الصورة.',
        'touchGestureHint': 'اسحب للتحريك، قرص للتحجيم، دوّر بإصبعين. انقر نقرًا مزدوجًا لإعادة التحميل.',
        'mouseGestureHint': 'اسحب لتحريك العلامة المائية. مرر المؤشر فوقها لرؤية خيار إعادة التحميل.',
        'saveImageInstructions': 'اضغط مع الاستمرار على الصورة، ثم اختر "حفظ الصورة" أو "تنزيل الصورة" من القائمة.',
        'dir': 'rtl' // Right to left for Arabic
    },
    // Simplified Chinese
    'zh-CN': {
        'pageTitle': '图片水印工具 - 为您的图片添加文字水印',
        'pageDescription': '免费在线工具，为您的图片添加文字水印。自定义水印的位置、大小、颜色、透明度和旋转角度。',
        'pageKeywords': '图片水印, 水印工具, 照片水印, 文字水印, 图片编辑器, 免费水印',
        'mainHeading': '图片水印工具',
        'selectImage': '选择图片或拖放至此',
        'uploadPrompt': '点击上传或拖放图片至此',
        'watermarkText': '水印文本',
        'position': '位置',
        'appearance': '外观',
        'topLeft': '左上角',
        'topRight': '右上角',
        'center': '中心',
        'bottomLeft': '左下角',
        'bottomRight': '右下角',
        'xOffset': 'X 偏移:',
        'yOffset': 'Y 偏移:',
        'fontSize': '字体大小:',
        'opacity': '不透明度:',
        'color': '颜色:',
        'rotation': '旋转:',
        'repeat': '重复',
        'enableRepeat': '启用重复',
        'repeatSpacingX': 'X 间距:',
        'repeatSpacingY': 'Y 间距:',
        'downloadBtn': '下载图片',
        'watermarkDefault': '水印',
        'enterWatermarkText': '输入水印文本',
        'downloadFilename': '带水印图片.png',
        'pixelUnit': '像素',
        'percentUnit': '%',
        'degreeUnit': '°',
        'reuploadBtn': '重新上传',
        'gestureHint': '提示：您可以直接在图片上拖动、缩放和旋转水印。',
        'touchGestureHint': '拖动移动水印，捏合调整大小，双指旋转。双击可重新上传。',
        'mouseGestureHint': '拖动移动水印。悬停鼠标可查看重新上传选项。',
        'saveImageInstructions': '长按图片，然后从菜单中选择"保存图片"或"下载图片"。',
        'dir': 'ltr'
    },
    // Traditional Chinese
    'zh-TW': {
        'pageTitle': '圖片浮水印工具 - 為您的圖片添加文字浮水印',
        'pageDescription': '免費在線工具，為您的圖片添加文字浮水印。自定義浮水印的位置、大小、顏色、透明度和旋轉角度。',
        'pageKeywords': '圖片浮水印, 浮水印工具, 照片浮水印, 文字浮水印, 圖片編輯器, 免費浮水印',
        'mainHeading': '圖片浮水印工具',
        'selectImage': '選擇一張圖片添加浮水印',
        'uploadPrompt': '上傳圖片添加浮水印',
        'watermarkText': '浮水印文字',
        'position': '位置',
        'appearance': '外觀',
        'topLeft': '左上角',
        'topRight': '右上角',
        'center': '中心',
        'bottomLeft': '左下角',
        'bottomRight': '右下角',
        'xOffset': 'X 偏移:',
        'yOffset': 'Y 偏移:',
        'fontSize': '字體大小:',
        'opacity': '不透明度:',
        'color': '顏色:',
        'rotation': '旋轉:',
        'repeat': '重複',
        'enableRepeat': '啟用重複',
        'repeatSpacingX': 'X 間距:',
        'repeatSpacingY': 'Y 間距:',
        'downloadBtn': '下載圖片',
        'watermarkDefault': '浮水印',
        'enterWatermarkText': '輸入浮水印文字',
        'downloadFilename': '帶浮水印圖片.png',
        'pixelUnit': '像素',
        'percentUnit': '%',
        'degreeUnit': '°',
        'reuploadBtn': '重新上傳',
        'gestureHint': '提示：您可以直接在圖片上拖動、縮放和旋轉浮水印。',
        'touchGestureHint': '拖動移動浮水印，捏合調整大小，雙指旋轉。雙擊可重新上傳。',
        'mouseGestureHint': '拖動移動浮水印。懸停滑鼠可查看重新上傳選項。',
        'saveImageInstructions': '長按圖片，然後從選單中選擇「儲存圖片」或「下載圖片」。',
        'dir': 'ltr'
    },
    // Korean
    'ko': {
        'pageTitle': '이미지 워터마크 도구 - 이미지에 텍스트 워터마크 추가',
        'pageDescription': '이미지에 텍스트 워터마크를 추가하는 무료 온라인 도구. 워터마크의 위치, 크기, 색상, 투명도 및 회전을 사용자 정의할 수 있습니다.',
        'pageKeywords': '이미지 워터마크, 워터마크 도구, 사진 워터마크, 텍스트 워터마크, 이미지 편집기, 무료 워터마크',
        'mainHeading': '이미지 워터마크 도구',
        'selectImage': '워터마크를 추가할 이미지 선택',
        'uploadPrompt': '워터마크를 추가할 이미지 업로드',
        'watermarkText': '워터마크 텍스트',
        'position': '위치',
        'appearance': '모양',
        'topLeft': '왼쪽 상단',
        'topRight': '오른쪽 상단',
        'center': '중앙',
        'bottomLeft': '왼쪽 하단',
        'bottomRight': '오른쪽 하단',
        'xOffset': 'X 오프셋:',
        'yOffset': 'Y 오프셋:',
        'fontSize': '글꼴 크기:',
        'opacity': '불투명도:',
        'color': '색상:',
        'rotation': '회전:',
        'repeat': '반복',
        'enableRepeat': '반복 활성화',
        'repeatSpacingX': 'X 간격:',
        'repeatSpacingY': 'Y 간격:',
        'downloadBtn': '이미지 다운로드',
        'watermarkDefault': '워터마크',
        'enterWatermarkText': '워터마크 텍스트 입력',
        'downloadFilename': '워터마크-이미지.png',
        'pixelUnit': '픽셀',
        'percentUnit': '%',
        'degreeUnit': '°',
        'reuploadBtn': '다시 업로드',
        'gestureHint': '팁: 이미지에서 직접 워터마크를 드래그하고, 핀치하여 확대/축소하고, 회전할 수 있습니다.',
        'touchGestureHint': '드래그하여 이동, 핀치하여 크기 조절, 두 손가락으로 회전. 두 번 탭하여 다시 업로드.',
        'mouseGestureHint': '드래그하여 워터마크 이동. 마우스를 올려 다시 업로드 옵션 확인.',
        'saveImageInstructions': '이미지를 길게 누른 다음 메뉴에서 "이미지 저장" 또는 "이미지 다운로드"를 선택하세요.',
        'dir': 'ltr'
    }
};

// Language mapping for browser language codes
const languageMapping = {
    'en': 'en',
    'fr': 'fr',
    'de': 'de',
    'it': 'it',
    'es': 'es',
    'ja': 'ja',
    'ru': 'ru',
    'ar': 'ar',
    'zh-CN': 'zh-CN',
    'zh-TW': 'zh-TW',
    'zh': 'zh-CN', // Default Chinese to Simplified
    'ko': 'ko'
};

// Function to get user's browser language
function getBrowserLanguage() {
    const browserLang = navigator.language || navigator.userLanguage;
    const langCode = browserLang.split('-')[0]; // Get the primary language code

    // Check if we have an exact match for the full browser language
    if (translations[browserLang]) {
        return browserLang;
    }

    // Check if we have a mapping for this language
    if (languageMapping[browserLang]) {
        return languageMapping[browserLang];
    }

    // Check if we have a mapping for the primary language code
    if (languageMapping[langCode]) {
        return languageMapping[langCode];
    }

    // Default to English if no match found
    return 'en';
}

// Function to get translation for a key in the current language
function getTranslation(key) {
    const currentLang = getCurrentLanguage();
    return (translations[currentLang] && translations[currentLang][key]) || translations['en'][key];
}

// Function to get the current language
function getCurrentLanguage() {
    return localStorage.getItem('preferredLanguage') || getBrowserLanguage();
}

// Function to set the language
function setLanguage(langCode) {
    if (translations[langCode]) {
        localStorage.setItem('preferredLanguage', langCode);
        applyTranslations();

        // Update canvas text when language changes
        if (typeof updateCanvasText === 'function') {
            updateCanvasText();
        }

        // Update meta tags for SEO when language changes
        if (typeof updateMetaTags === 'function') {
            updateMetaTags();
        }

        return true;
    }
    return false;
}

// Function to apply translations to the UI
function applyTranslations() {
    const currentLang = getCurrentLanguage();
    const langData = translations[currentLang] || translations['en'];

    // Update page title
    document.title = langData.pageTitle;

    // Update main heading
    document.querySelector('h1').innerText = langData.mainHeading;

    // Update upload section
    document.querySelector('.upload-section p').innerText = langData.selectImage;

    // Update watermark text section
    document.querySelector('#watermarkTextTitle').innerText = langData.watermarkText;
    document.getElementById('watermarkText').placeholder = langData.enterWatermarkText;

    // Update position section
    document.querySelector('#positionTitle').innerText = langData.position;
    document.getElementById('posTopLeft').innerText = langData.topLeft;
    document.getElementById('posTopRight').innerText = langData.topRight;
    document.getElementById('posCenter').innerText = langData.center;
    document.getElementById('posBottomLeft').innerText = langData.bottomLeft;
    document.getElementById('posBottomRight').innerText = langData.bottomRight;

    // Update offset labels
    const xOffsetLabel = document.querySelector('.position-sliders label:nth-of-type(1)');
    xOffsetLabel.firstChild.innerText = langData.xOffset + ' ';

    const yOffsetLabel = document.querySelector('.position-sliders label:nth-of-type(2)');
    yOffsetLabel.firstChild.innerText = langData.yOffset + ' ';

    // Update appearance section
    document.querySelector('#appearanceTitle').innerText = langData.appearance;

    const fontSizeLabel = document.querySelector('#fontSizeLabel');
    fontSizeLabel.firstChild.textContent = langData.fontSize + ' ';

    const opacityLabel = document.querySelector('#opacityLabel');
    opacityLabel.firstChild.textContent = langData.opacity + ' ';

    const colorLabel = document.querySelector('#colorLabel');
    colorLabel.firstChild.textContent = langData.color + ' ';

    const rotationLabel = document.querySelector('#rotationLabel');
    rotationLabel.firstChild.textContent = langData.rotation + ' ';

    // Update repeat section
    document.querySelector('#repeatTitle').innerText = langData.repeat;
    document.querySelector('#repeatEnabledText').innerText = langData.enableRepeat;

    const repeatSpacingXLabel = document.querySelector('#repeatSpacingXLabel');
    repeatSpacingXLabel.firstChild.textContent = langData.repeatSpacingX + ' ';

    const repeatSpacingYLabel = document.querySelector('#repeatSpacingYLabel');
    repeatSpacingYLabel.firstChild.textContent = langData.repeatSpacingY + ' ';

    // Update download button
    document.getElementById('downloadBtn').innerText = langData.downloadBtn;

    // Update re-upload button
    document.getElementById('reuploadText').innerText = langData.reuploadBtn;

    // Update gesture hint
    const gestureHint = document.getElementById('gestureHint');
    if (gestureHint) {
        gestureHint.innerText = langData.gestureHint;
    }

    // Update unit suffixes for font size, opacity, and rotation
    const fontSize = document.getElementById('fontSize');
    const opacity = document.getElementById('opacity');
    const rotation = document.getElementById('rotation');
    const fontSizeValue = document.getElementById('fontSizeValue');
    const opacityValue = document.getElementById('opacityValue');
    const rotationValue = document.getElementById('rotationValue');

    if (fontSize && fontSizeValue) {
        fontSizeValue.textContent = fontSize.value + langData.pixelUnit;
    }
    if (opacity && opacityValue) {
        opacityValue.textContent = opacity.value + langData.percentUnit;
    }
    if (rotation && rotationValue) {
        rotationValue.textContent = rotation.value + langData.degreeUnit;
    }

    // Set text direction for the whole document
    document.documentElement.dir = langData.dir;
    document.documentElement.lang = currentLang;
}

// Create language selector
function createLanguageSelector() {
    // Create language selector container
    const langSelector = document.createElement('div');
    langSelector.className = 'language-selector';
    langSelector.style.textAlign = 'right';
    langSelector.style.marginBottom = '10px';

    // Create select element
    const select = document.createElement('select');
    select.id = 'languageSelect';
    select.style.padding = '5px';
    select.style.borderRadius = '4px';

    // Add options for each language
    const languageNames = {
        'en': 'English',
        'fr': 'Français',
        'de': 'Deutsch',
        'it': 'Italiano',
        'es': 'Español',
        'ja': '日本語',
        'ru': 'Русский',
        'ar': 'العربية',
        'zh-CN': '简体中文',
        'zh-TW': '繁體中文',
        'ko': '한국어'
    };

    Object.keys(languageNames).forEach(langCode => {
        const option = document.createElement('option');
        option.value = langCode;
        option.innerText = languageNames[langCode];
        select.appendChild(option);
    });

    // Set the current language
    select.value = getCurrentLanguage();

    // Add event listener for language change
    select.addEventListener('change', function() {
        setLanguage(this.value);
    });

    // Add select to container
    langSelector.appendChild(select);

    // Insert the language selector at the top of the container
    const container = document.querySelector('.container');
    container.insertBefore(langSelector, container.firstChild);
}

// Initialize language support
function initLanguageSupport() {
    createLanguageSelector();
    applyTranslations();

    // Update meta tags for SEO on initial load
    if (typeof updateMetaTags === 'function') {
        updateMetaTags();
    }
}

// Call initLanguageSupport when the DOM is loaded
document.addEventListener('DOMContentLoaded', initLanguageSupport);
